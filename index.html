<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Donkey Kong Web - Java 17</title>
    <script src="https://cjrtnc.leaningtech.com/4.2/loader.js"></script>
</head>
<body style="margin:0; background:#000; color:#fff; display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; font-family: sans-serif;">

    <h2 id="status">A carregar Donkey Kong (Java 17)...</h2>
    <div id="game-container" style="border: 2px solid #555; width:480px; height:500px; background:#111;"></div>

    <script>
        window.onload = async function() {
            try {
                // ESTA É A LINHA CRÍTICA: Ativa o suporte para Java 17
                await cheerpjInit({version: 17});
                
                cheerpjCreateDisplay(480, 500, document.getElementById("game-container"));
                
                // Corre o JAR que já confirmaste que está em Java 17
                await cheerpjRunJar("/app/HongKong.jar");
                
                document.getElementById("status").innerText = "Donkey Kong - Pronto!";
            } catch (err) {
                console.error("Erro detalhado:", err);
                document.getElementById("status").innerText = "Erro ao iniciar o jogo.";
            }
        };
    </script>
</body>
</html>
